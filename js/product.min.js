/**
 * @collection Convert
 * @version 1.1.19
 */

!function(e){let t={galleries:{thumbs:null,main:null,fixed:null},createSlide:function(){this.galleries.thumbs=new Swiper(".nav-swiper",{direction:"vertical",slidesPerView:4,updateOnWindowResize:!0,watchSlidesProgress:!0,watchSlidesVisibility:!0,lazy:{loadPrevNext:!0},navigation:{nextEl:".product-next",prevEl:".product-prev"}}),this.galleries.main=new Swiper(".featured-swiper",{slidesPerView:1,keyboard:!0,lazy:{loadPrevNext:!0},pagination:{clickable:!0,el:document.querySelector(".featured-swiper .swiper-pagination")},navigation:{nextEl:".product-mob-next",prevEl:".product-mob-prev"},thumbs:{autoScrollOffset:3,multipleActiveThumbs:!1,swiper:this.galleries.thumbs}}),this.galleries.fixed=new Swiper(".slide-fixed",{speed:0,loopedSlides:1,lazy:{loadPrevNext:!0},navigation:{nextEl:".fixed-next",prevEl:".fixed-prev"}}),jQuery(".featured-swiper .click-to-zoom").on("click",(function(){let e=jQuery(".featured-swiper .swiper-slide.swiper-slide-active").data("index");jQuery(".fixed-modal").addClass("active"),t.galleries.fixed.slideTo(e,0,!1)})),jQuery(".nav-swiper .swiper-slide").on("focusin",(function(){t.galleries.thumbs.slideTo(e(this).data("index")),t.galleries.main.slideTo(e(this).data("index"))}))},variantImage:function(e){jQuery.ajax({method:"get",url:e,success:function(e){if(e.Variant.VariantImage&&e.Variant.VariantImage.length){if(-1===e.Variant.VariantImage[0].https.indexOf("variacao_"))return;t.resetSlider(e.Variant.VariantImage)}}})},resetSlider:function(t){if(void 0!==this.galleries.thumbs){this.galleries.thumbs.destroy(),this.galleries.main.destroy(),this.galleries.fixed.destroy(),jQuery(".gallery .swiper-slide, .fixed-modal .swiper-slide").each((function(){jQuery(this).remove()}));let r="",a="";e.each(t,(function(){r+=`\n                        <div class="swiper-slide">\n                            <img class="swiper-lazy" data-src="${this.https}" alt="image">\n                        </div>\n                    `,a+=`\n                        <div class="swiper-slide">\n                            <img class="swiper-lazy" data-src="${this.thumbs[180].https}" alt="image">\n                        </div>\n                    `})),jQuery(".gallery .featured-swiper .swiper-wrapper,.fixed-modal .swiper-wrapper").html(r),jQuery(".gallery .nav-swiper .swiper-wrapper").html(a),this.createSlide()}},fixedModal:function(){jQuery(".fixed-modal .exit, .fixed-modal .shad").on("click",(function(){jQuery(".fixed-modal").removeClass("active")}))},forVisited:function(e){var r=[],a=0;e.forEach((function(i){jQuery.ajax({method:"GET",url:"/web_api/products/"+i.id,success:function(i){if(i.Product&&r.push(i),a++,e.length==a)return t.appendVisited(r)},error:function(i){var o=JSON.parse(i.responseText);if("Nenhum registro encontrado"==o.name){var s=o.url.replace(/\D/g,""),n=e.filter((function(e){if(e.id!=Number(s))return e}));localStorage.setItem("visited",JSON.stringify(n))}if(a++,e.length==a)return t.appendVisited(r)}})}))},appendVisited:function(e){var t=jQuery(".visited-section .list-append"),r="";e.forEach((function(e){var t=e.Product,a='<div class="product">            <div class="image">                <a href="{link}" class="space-image large">                    <img class="swiper-lazy transform" src="{image}">                </a>            </div>            <a href="{link}" class="info-product">                <div class="product-name">{name}</div>                <div class="down-line">{boxPrice}</div>            </a>        </div>'.replace(/{link}/g,t.url.https).replace(/{image}/g,t.ProductImage[0].https).replace(/{name}/g,t.name),i=Number(t.promotional_price);if(t.available&&Number(t.price)){var o=jQuery(".visited-section .list-append").data("moeda");a=a.replace("{boxPrice}",'<div class="box-price">            <div class="price">                <div class="product-price">                    {before}                    <span class="price-off">{price}</span>                </div>            </div>            <div class="product-payment">{payment}</div>        </div>'.replace("{before}",i?'<div class="price-before"><span class="line-price">{price}</span></div>'.replace("{price}",toReal(Number(t.price),o)):"").replace("{price}",i?toReal(i,o):toReal(Number(t.price),o))).replace("{payment}",t.payment_option_html)}else a=a.replace("{boxPrice}",t.available?'<div class="box-price"><div class="price"><div class="product-price"><p>Sob Consulta</p></div></div></div>':'<div class="box-price"><div class="price"><div class="product-price"><p>Indispon&iacute;vel</p></div></div></div>');r+='<div class="item swiper-slide">'+a+"</div>"}));var a='<div class="swiper-container"><div class="swiper-wrapper list-product">'+r+"</div></div>";t.append(a);new LazyLoad({elements_selector:".list-append",threshold:300,callback_enter:function(e){var t=e.querySelectorAll(".item").length;new Swiper(e.querySelector(".swiper-container"),{slidesPerView:4,lazy:{loadPrevNext:!1},navigation:{nextEl:e.querySelector(".next"),prevEl:e.querySelector(".prev")},loop:t>4,breakpoints:{0:{slidesPerView:1,loop:t>1},320:{slidesPerView:2,loop:t>2},640:{slidesPerView:3,loop:t>3},1024:{slidesPerView:4,loop:t>4}}})}})},productVisitedNew:function(){var e=jQuery("#form_comprar").data("id"),r=localStorage.getItem("visited"),a=[];r&&(a=JSON.parse(r).reverse()),setTimeout((function(){a.length?t.forVisited(a):jQuery(".visited-section").remove()}),500),10==a.length&&(a.pop(),a.reverse());var i=!0;if(a.forEach((function(t){t.id==e&&(i=!1)})),i&&!jQuery("#form_comprar").hasClass("unavailable")){a.push({id:e});var o=JSON.stringify(a);localStorage.setItem("visited",o)}},shipping:function(){jQuery(".crazy_cep").mask("00000-000");var e=1;jQuery(".new-frete").on("submit",(function(t){t.preventDefault(),jQuery("#quant:visible").is(":visible")&&(e=jQuery("#quant:visible").val());var r=jQuery("#shippingSimulatorButton").attr("data-url"),a=jQuery(this).find("input").val().split("-"),i=jQuery("#product-container").find("#selectedVariant").val()?jQuery("#product-container").find("#selectedVariant").val():0;r=r.replace("cep1=%s","cep1="+a[0]).replace("cep2=%s","cep2="+a[1]).replace("acao=%s","acao="+i).replace("dade=%s","dade="+e),""!==jQuery("#selectedVariant").val()?(jQuery(".box-frete .result").html('<div class="load-css"><div class="icon"></div></div>'),jQuery.ajax({method:"GET",url:r,success:function(e){jQuery(".box-frete .result").html(e),jQuery(".box-frete .result").find("table:first, p").remove(),jQuery(".box-frete .result").find("img").parent().remove(),jQuery(".box-frete .result").find("th:last").text("Prazo:"),jQuery(".box-frete .result").find('th[colspan="2"]').removeAttr("colspan"),jQuery(".box-frete .result").find("[width]").removeAttr("width"),1==jQuery(".box-frete .result").find("tr").length&&(jQuery(".box-frete .result").find("tr").after('<tr><td colspan="3">N&atilde;o foi encontrado formas de envio para o CEP</td></tr>'),jQuery(".box-frete .result").find("tr:first").remove())}})):jQuery(".box-frete .result").html("Escolha uma varia&ccedil;&atilde;o")}))},productVariant:function(){this.tabs(),jQuery(".compreJunto form .fotosCompreJunto").append('<div class="plus color to">=</div>'),jQuery(".box-variants").on("click",".lista_cor_variacao li[data-id]",(function(){var e="/web_api/variants/"+jQuery(this).data("id");t.variantImage(e)})),jQuery(".box-variants").on("click",".lista-radios-input",(function(){var e="/web_api/variants/"+jQuery(this).find("input").val();t.variantImage(e)})),jQuery(".box-variants").on("change","select",(function(){var e="/web_api/variants/"+jQuery(this).val();t.variantImage(e)})),jQuery(".produto img").each((function(){jQuery(this).attr("src",jQuery(this).attr("src").replace("/90_","/"));var e="";""!==jQuery(this).parent().attr("href")&&(e='href="'+jQuery(this).parent().attr("href")+'"'),jQuery(this).parents("span").after("<a "+e+' class="product-name">'+jQuery(this).attr("alt")+"</a>")})),jQuery(".page-product").on("click","#detalhes_formas",(function(){var e=jQuery("#form_comprar").data("id"),t=jQuery("#preco_atual").val(),r="/mvc/store/product/payment_options_details?loja="+theme.storeId()+"&IdProd="+e+"&preco="+t;jQuery(".payment-modal").addClass("active"),jQuery(".payment-modal .append").html('<div class="load-css"><div class="icon"></div></div>'),jQuery.ajax({method:"GET",url:r,success:function(e){jQuery(".payment-modal .append").html(e).find(".tablePage").wrap('<div class="overflow-payment"></div>')}})})),jQuery("#form_comprar").on("submit",(function(){if(!jQuery(".labelMultiVariacao").length&&jQuery("#selectedVariant").length&&!jQuery("#selectedVariant").val())return jQuery("#span_erro_carrinho").css("display","block"),!1;if(jQuery(this).hasClass("is-kit")){let e=!1;if(jQuery(this).find('input[type="hidden"][name="variants_kit[]"]').each((function(t,r){if(""===jQuery(r).val())return jQuery("#span_erro_carrinho").css("display","block"),e=!0,!1})),e)return!1}jQuery("#loading-product-container").show(),jQuery("body").removeClass("modal-open").removeAttr("style"),jQuery("body").find(".modal-backdrop").remove();var e=setInterval((function(){if(jQuery("body").find(".modal-backdrop").remove(),jQuery(".cart-preview-loading-modal").hasClass("tray-hide")){if(jQuery(".cart-preview-item-error").length){var t=jQuery(".cart-preview-item-error").parents(".cart-preview-item").attr("data-item");cart.showCart({msg:"<b>Aten&ccedil;&atilde;o&excl; </b>O estoque do produto n&atilde;o &eacute; suficiente para a quantidade selecionada&excl;",id:t})}else cart.showCart();jQuery("#loading-product-container").hide(),jQuery("body").find(".botao-continuar-comprando .botao-commerce-img").trigger("click"),clearInterval(e)}}),50)})),jQuery(".compreJunto").on("submit",(function(){if(!jQuery(this).find(".blocoAlerta").is(":visible")){jQuery("#loading-product-comprejunto").show(),jQuery("body").removeClass("modal-open").removeAttr("style"),jQuery("body").find(".modal-backdrop").remove();var e=setInterval((function(){jQuery(".cart-preview-loading-modal").hasClass("tray-hide")&&(jQuery("#loading-product-comprejunto").hide(),jQuery("body").find(".botao-continuar-comprando .botao-commerce-img").trigger("click"),clearInterval(e))}),50)}}));var e=jQuery("#variation_second_select").prev(),r=jQuery('[data-tray-tst="variation_first_select"]');e.is(":visible")&&!r.val()&&e.hide(),r.on("change",(function(){e.show()}))},tabs:function(){if(jQuery('[data-id*="AbaPersonalizada"]').each((function(){var e=jQuery(this).data("id");jQuery(e).removeAttr("style").appendTo(jQuery(this))})),jQuery(".section-box.comments").length){jQuery(".section-box.comments").appendTo(".comments-modal .append"),jQuery(".section-box.comments #comentario_cliente").wrap('<div class="comments-form"></div>');let e=jQuery(".section-box.comments .comments-form").detach();jQuery(".section-box.comments").wrapInner('<div class="customer-comments"></div>'),jQuery(".section-box.comments").append(e),jQuery(".section-box.comments .customer-comments .tray-hide").remove(),jQuery(".section-box.comments .customer-comments br").remove(),jQuery(".section-box.comments .customer-comments .line").remove(),jQuery(".section-box.comments .customer-comments .title-section").removeClass("title-section").addClass("title-section-comments"),jQuery(".section-box.comments .customer-comments .title-section-comments + h2.color").detach().prependTo(".section-box.comments .comments-form"),jQuery(".section-box.comments .customer-comments h2.color").remove(),jQuery(".section-box.comments .customer-comments .blocoSucesso").detach().appendTo(".section-box.comments .comments-form"),jQuery(".section-box.comments .customer-comments .title-section-comments").detach().prependTo(".section-box.comments"),jQuery(".section-box.comments .comments-form br").remove();let t=jQuery(".section-box.comments .comments-form #form-comments h5").html().replace("- M\u00E1ximo","M\u00E1ximo");jQuery(".section-box.comments .comments-form #form-comments h5").html(t),jQuery(".section-box.comments .comments-form h2").html("Deixe sua avalia\u00E7\u00E3o sobre esse produto"),0===jQuery(".section-box.comments .customer-comments").children().length&&jQuery(".section-box.comments .customer-comments").html('<span class="no-comments">Nenhuma avalia\u00E7\u00E3o dispon\u00EDvel. Seja o primeiro a avaliar.</span>')}jQuery(".list-star.cursor").on("click",(function(){jQuery(".comments-modal").addClass("active")})),jQuery(".ranking .rating").each((function(){var e=Number(jQuery(this).attr("class").replace(/[^0-9]/g,""));for(i=1;i<=5;i++)i<=e?jQuery(this).append('<div class="icon active"></div>'):jQuery(this).append('<div class="icon"></div>')})),jQuery("#downloads").length&&jQuery.get(jQuery("#downloads").data("url"),(function(e){jQuery("#downloads").html(e)}))},incrementPage:function(){if(this.templateIncrement(),jQuery(".increment-page").on("click",".low",(function(){var e=jQuery(".page-product").find("#quantidade #quant");e.val(1==parseInt(e.val())?1:parseInt(e.val())-1)})),0==jQuery(".value-max-stock").attr("data-variant")){var e=jQuery(".page-product").find("#quantidade #quant"),t=parseInt(jQuery(".value-max-stock").text());jQuery(".increment-page").on("click",".add",(function(){var r=parseInt(e.val());r<t&&e.val(r+1)}))}else jQuery(".increment-page").on("click",".add",(function(){var e=jQuery(".page-product").find("#quantidade #quant");e.val(parseInt(e.val())+1)}))},templateIncrement:function(){jQuery('#product-form-box [name="quant"]').length||jQuery("#product-form-box").prepend('<div data-app="product.quantity" id="quantidade">\t\t\t\t\t<label class="color">\t\t\t\t\tQuantidade: \t\t\t\t\t<input id="quant" name="quant" class="text" size="1" type="text" value="1" maxlength="5" onkeyup="mascara(this,numeros,event);">\t\t\t\t\t</label>\t\t\t\t\t<span id="estoque_variacao">&nbsp;</span>\t\t\t\t</div>')},validEvaluation:function(){jQuery(".comments-form .botao-commerce").on("click",(function(){if(!jQuery(".stars .starn.star-on").length){jQuery(".comments-form .blocoAlerta").text("Avalia\u00E7\u00E3o do produto obrigat\u00F3ria, d\u00EA sua avalia\u00E7\u00E3o por favor").addClass("show-message"),setTimeout((()=>{jQuery(".blocoAlerta.show-message").removeClass("show-message")}),5e3)}}))}};t.productVisitedNew(),t.shipping(),t.createSlide(),t.productVariant(),t.fixedModal(),t.incrementPage(),t.validEvaluation()}(jQuery);